node {

    String BRANCH_PLATFORM = ""

    stage ('Checkout') {
        // Checkout code for the pushed branch
        checkout scm
    }

    stage ('Build') {

        def nodeHome = tool 'NodeTool'
        env.PATH="${env.PATH}:${nodeHome}/bin"

        sh '''#!/bin/bash
            cd src/web
            npm install
            bower install
            grunt
        '''
    }

    stage ('Deploy') {
        println "deploy to aws s3"



        sh '''#!/bin/bash
            aws s3 cp src/web/dist/ s3://jenkins-test-edobyns --acl "public-read"
        '''
    }
}